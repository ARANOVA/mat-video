<mat-slider [color]="color" [min]="curMinPercent" [max]="curMaxPercent" step="0.1" [value]="curTimePercent" (input)="seekVideo($event.value)">
</mat-slider>
<div class="cut-bar" #trimmerBar (click)="deselectCut($event)">
    <div *ngIf="video.duration && cuts">
        <ng-container *ngFor="let cut of cuts; let idx=index">
        <div (click)="selectCut($event, cut.idx)" [ngClass]="getClassCut(cut)"
            [ngStyle]="{'left.px': getStartCut(cut.tcin), 'width.px': getWidthCut(cut.tcin, cut.tcout)}">
        </div>
        </ng-container>
    </div>
</div>

<div class="menu" *ngIf="editorButtons">
    <div class="buttons">
        <div class="inline-small px-2" [style.order]="editorOrderButtons.tcinInput" [ngClass]="{'pl-0': editorOrderButtons.tcinInput == 0, 'pr-0': editorOrderButtons.tcinInput == 9}">
            <mat-form-field color="primary" [style.width.px]="60">
                <mat-label>TcIn</mat-label>
                <input matInput placeholder="0" type="number" min="0" [step]="1/fps" [(ngModel)]="inposition"
                #tcinInput (click)="tcinInput.select()"
                (keyup)="keyup('tcin', $event)"
                />
            </mat-form-field>
        </div>
        <button mat-icon-button (click)="setTcIn()" [style.order]="editorOrderButtons.tcinButton"
            [disabled]="mode === 'tcout'">
            <mat-icon>skip_previous</mat-icon>
        </button>
        <button mat-icon-button (click)="setTcOut()" [style.order]="editorOrderButtons.tcoutButton"
            [disabled]="mode === 'tcin'">
            <mat-icon>skip_next</mat-icon>
        </button>
        <div class="inline-small px-2" [style.order]="editorOrderButtons.tcoutInput" [ngClass]="{'pl-0': editorOrderButtons.tcoutInput == 0, 'pr-0': editorOrderButtons.tcoutInput == 9}">
            <mat-form-field color="primary" [style.width.px]="60">
                <mat-label>TcOut</mat-label>
                <input matInput placeholder="0" type="number" min="0" [step]="1/fps" [(ngModel)]="outposition"
                #tcoutInput (click)="tcoutInput.select()"
                (keyup)="keyup('tcout', $event)" />
            </mat-form-field>
        </div>

        <mat-radio-group aria-label="Tipo de corte" [(ngModel)]="selectedCut.type" *ngIf="!cutType"
            [style.order]="editorOrderButtons.typeCutSelector" class="px-2" [ngClass]="{'pl-0': editorOrderButtons.typeCutSelector == 0, 'pr-0': editorOrderButtons.typeCutSelector == 9}">
            <mat-radio-button [value]="'cut'" class="marr-16">Corte</mat-radio-button>
            <mat-radio-button [value]="'invalid'">Desechar</mat-radio-button>
        </mat-radio-group>

        <div style="flex: 1" [style.order]="editorOrderButtons.spacer"></div>
        <button mat-icon-button aria-label="Crear zona" *ngIf="selectedCut && !selectedCut.idx && mode === 'tc'" (click)="addCut()" [style.order]="editorOrderButtons.addButton">
            <mat-icon>add_circle_outline</mat-icon>
        </button>
        <button mat-icon-button aria-label="Guardar zona" *ngIf="selectedCut?.idx" (click)="editCut()" [style.order]="editorOrderButtons.saveButton">
            <mat-icon>save</mat-icon>
        </button>
        <button mat-icon-button aria-label="Eliminar zona" *ngIf="selectedCut?.idx" (click)="removeCut()"
            [style.order]="editorOrderButtons.removeButton">
            <mat-icon>remove_circle_outline</mat-icon>
        </button>
        <button mat-icon-button aria-label="Resetear zona" *ngIf="selectedCut && !selectedCut.idx && mode !== 'tcin'" (click)="restart()"
            [style.order]="editorOrderButtons.resetButton">
            <mat-icon>clear</mat-icon>
        </button>
    </div>
</div>
